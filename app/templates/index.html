{% extends "base.html" %}

{% block content %}
<div class="main-content-container flex flex-col items-center">
    <!-- Posts Feed Column (Central) -->
    <div class="posts-feed w-full max-w-4xl mx-auto">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Latest Posts</h2>
        <div class="grid grid-cols-1 gap-6">
            {% for post in posts.items %}
                {% include '_post.html' %}
            {% endfor %}
        </div>

        <div class="mt-8 flex justify-center">
            <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                {% if posts.has_prev %}
                <a href="{{ url_for('main.index', page=posts.prev_num) }}" class="relative inline-flex items-center px-4 py-2 rounded-l-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-700 hover:bg-gray-200">
                    Previous
                </a>
                {% endif %}
                {% for page_num in posts.iter_pages() %}
                    {% if page_num %}
                        {% if posts.page == page_num %}
                        <a href="#" aria-current="page" class="z-10 bg-blue-50 border-blue-500 text-blue-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                            {{ page_num }}
                        </a>
                        {% else %}
                        <a href="{{ url_for('main.index', page=page_num) }}" class="bg-white border-gray-300 text-gray-700 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                            {{ page_num }}
                        </a>
                        {% endif %}
                    {% else %}
                        <span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700">
                            ...
                        </span>
                    {% endif %}
                {% endfor %}
                {% if posts.has_next %}
                <a href="{{ url_for('main.index', page=posts.next_num) }}" class="relative inline-flex items-center px-4 py-2 rounded-r-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-700 hover:bg-gray-200">
                    Next
                </a>
                {% endif %}
            </nav>
        </div>
    </div>
</div>
{% endblock %}